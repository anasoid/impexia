/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.0/userguide/tutorial_java_projects.html
 */


// 3rd party plugin repositories can be configured in settings.gradle
plugins {
	id "io.spring.dependency-management"     version "1.0.6.RELEASE"
	id "org.sonarqube" version "2.6.2"

}
 
// Apply the java plugin to add support for Java



allprojects {
    apply plugin: 'java'
	apply plugin: "jacoco"
	
	
	group = 'org.anasoid.impexia'
	sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
   
   
    
	
   repositories {
        jcenter()
		mavenCentral()
    }
	
	jacoco {
        toolVersion = '0.8.2'
    }

	

	
	ext.gradleScriptDir = "${rootProject.projectDir}/gradle"
	apply from: "${gradleScriptDir}/ide.gradle"
}



subprojects {
    
   apply plugin: 'checkstyle'
   apply plugin: 'pmd'
   apply plugin: 'maven-publish'
   apply plugin: "jacoco"

   
   publishing {
    publications {
        mavenJava(MavenPublication) {
          from components.java

        }
     }
   }
     checkstyle {

        configFile = rootProject.file('config/checkstyle/google_checks.xml')
        toolVersion "8.7"
        ignoreFailures =false
        maxErrors = 0
        maxWarnings = 0

     }
     pmd {
            consoleOutput = true

        }

    jacocoTestReport {

        reports {
            html.enabled = true
            xml.enabled = true
            csv.enabled = false
        }
	onlyIf = {
        true
    }

    
    test {
	    useJUnitPlatform()
	     testLogging {
		events "passed", "skipped", "failed"
	     }
	    // listen to events in the test execution lifecycle
       beforeTest { descriptor ->
            logger.lifecycle("Running test: " + descriptor)
       }
   }
    dependencies {

    testImplementation("org.junit.jupiter:junit-jupiter-api:$junitVersion")
    testImplementation("org.junit.jupiter:junit-jupiter-params:$junitVersion")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:$junitVersion")
   }
}






}



ext {
	linkHomepage = 'https://github.com/anasoid/impexia'
	linkIssue = 'https://github.com/anasoid/impexia/issues'
	linkScmUrl = 'https://github.com/anasoid/impexia'



}







